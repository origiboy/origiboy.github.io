/*! scrollReveal.js v0.1.2 (c) 2014 Julian Lloyd | MIT license */
;window.scrollReveal=(function(b){function a(c){this.docElem=b.document.documentElement;this.options=this.extend(this.defaults,c);this.styleBank=[];if(this.options.init==true){this.init()}}a.prototype={defaults:{after:"0s",enter:"bottom",move:"24px",over:"0.66s",easing:"ease-in-out",viewportFactor:0.33,reset:false,init:true},init:function(){this.scrolled=false;var c=this;this.elems=Array.prototype.slice.call(this.docElem.querySelectorAll("[data-scroll-reveal]"));this.elems.forEach(function(g,f){if(!c.styleBank[g]){c.styleBank[g]=g.getAttribute("style")}c.update(g)});var e=function(){if(!c.scrolled){c.scrolled=true;setTimeout(function(){c._scrollPage()},60)}};var d=function(){if(c.resizeTimeout){clearTimeout(c.resizeTimeout)}function f(){c._scrollPage();c.resizeTimeout=null}c.resizeTimeout=setTimeout(f,200)};b.addEventListener("scroll",e,false);b.addEventListener("resize",d,false)},_scrollPage:function(){var c=this;this.elems.forEach(function(e,d){c.update(e)});this.scrolled=false},parseLanguage:function(e){var f=e.getAttribute("data-scroll-reveal").split(/[, ]+/),c={};function d(i){var h=[],g=["from","the","and","then","but","with"];i.forEach(function(k,j){if(g.indexOf(k)>-1){return}h.push(k)});return h}f=d(f);f.forEach(function(h,g){switch(h){case"enter":c.enter=f[g+1];return;case"after":c.after=f[g+1];return;case"wait":c.after=f[g+1];return;case"move":c.move=f[g+1];return;case"ease":c.move=f[g+1];c.ease="ease";return;case"ease-in":c.move=f[g+1];c.easing="ease-in";return;case"ease-in-out":c.move=f[g+1];c.easing="ease-in-out";return;case"ease-out":c.move=f[g+1];c.easing="ease-out";return;case"over":c.over=f[g+1];return;default:return}});return c},update:function(e){var c=this.genCSS(e);var d=this.styleBank[e];if(d!=null){d+=";"}else{d=""}if(!e.getAttribute("data-scroll-reveal-initialized")){e.setAttribute("style",d+c.initial);e.setAttribute("data-scroll-reveal-initialized",true)}if(!this.isElementInViewport(e,this.options.viewportFactor)){if(this.options.reset){e.setAttribute("style",d+c.initial+c.reset)}return}if(e.getAttribute("data-scroll-reveal-complete")){return}if(this.isElementInViewport(e,this.options.viewportFactor)){e.setAttribute("style",d+c.target+c.transition);if(!this.options.reset){setTimeout(function(){if(d!=""){e.setAttribute("style",d)}else{e.removeAttribute("style")}e.setAttribute("data-scroll-reveal-complete",true)},c.totalDuration)}return}},genCSS:function(d){var n=this.parseLanguage(d),l,e;if(n.enter){if(n.enter=="top"||n.enter=="bottom"){l=n.enter;e="y"}if(n.enter=="left"||n.enter=="right"){l=n.enter;e="x"}}else{if(this.options.enter=="top"||this.options.enter=="bottom"){l=this.options.enter;e="y"}if(this.options.enter=="left"||this.options.enter=="right"){l=this.options.enter;e="x"}}if(l=="top"||l=="left"){if(n.move){n.move="-"+n.move}else{n.move="-"+this.options.move}}var m=n.move||this.options.move,c=n.over||this.options.over,f=n.after||this.options.after,k=n.easing||this.options.easing;var j="-webkit-transition: -webkit-transform "+c+" "+k+" "+f+",  opacity "+c+" "+k+" "+f+";transition: transform "+c+" "+k+" "+f+", opacity "+c+" "+k+" "+f+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;";var g="-webkit-transition: -webkit-transform "+c+" "+k+" 0s,  opacity "+c+" "+k+" "+f+";transition: transform "+c+" "+k+" 0s,  opacity "+c+" "+k+" "+f+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;";var i="-webkit-transform: translate"+e+"("+m+");transform: translate"+e+"("+m+");opacity: 0;";var h="-webkit-transform: translate"+e+"(0);transform: translate"+e+"(0);opacity: 1;";return{transition:j,initial:i,target:h,reset:g,totalDuration:((parseFloat(c)+parseFloat(f))*1000)}},getViewportH:function(){var c=this.docElem.clientHeight,d=b.innerHeight;return(c<d)?d:c},getOffset:function(d){var c=0,e=0;do{if(!isNaN(d.offsetTop)){c+=d.offsetTop}if(!isNaN(d.offsetLeft)){e+=d.offsetLeft}}while(d=d.offsetParent);return{top:c,left:e}},isElementInViewport:function(j,i){var g=b.pageYOffset,d=g+this.getViewportH(),f=j.offsetHeight,c=this.getOffset(j).top,e=c+f,i=i||0;return(c+f*i)<=d&&(e)>=g||(j.currentStyle?j.currentStyle:b.getComputedStyle(j,null)).position=="fixed"},extend:function(d,c){for(var e in c){if(c.hasOwnProperty(e)){d[e]=c[e]}}return d}};return a})(window);